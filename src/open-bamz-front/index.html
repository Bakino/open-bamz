<!doctype html>
<head>
    <meta charset="utf-8">
    <title>OpenBamZ Front</title>
    <script type="module" src="/js/openbamz_helpers.mjs"></script>

</head>
<body>
    <script>
        window.BAMZ_APP = 'open-bamz-front' ;
        window.bamzWaitLoaded = function(){
            if(window.BAMZ_LOADED){
                return Promise.resolve() ;
            }
            return new Promise((resolve, reject)=>{
                const idTimeout = setTimeout(()=>{
                    reject("Not loaded, Don't wait for it inside a plugin load") ;
                }, 5000) ;
                window.addEventListener("openbamz.plugin.loaded", ()=>{
                    clearTimeout(idTimeout) ;
                    resolve() ;
                });
            })
        }
        window.bamzGetPlugin = async function(pluginName){
            await window.bamzWaitLoaded() ;
            return window.BAMZ_PLUGINS[pluginName] ;
        } ;
    </script><script type="module" src="./local_openbamz_admin.js"></script>
</body>
</html>